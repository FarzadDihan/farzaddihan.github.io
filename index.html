<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Farzad Dihan - Art Gallery</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
body{margin:0;color:#333;font-family:Inter,sans-serif;background:#7b824c}
.header-box{display:flex;flex-wrap:wrap;gap:20px;align-items:center;padding:20px;border-radius:10px;background:#234628;color:#fff;margin:20px;box-shadow:0 4px 10px #0003}
h1,h2{font-family:'Playfair Display',serif;margin:0}
.name-box{flex:1;min-width:250px}
.header-box h1{font-size:36px;color:#fff}
.from-daag{color:#D1C78F;font-size:14px;margin:5px 0 3px}
.roles{color:#F1E6A8;font-size:16px;font-weight:500}
#slideshow{width:200px;height:200px;flex-shrink:0;background:#000;border-radius:10px;overflow:hidden;position:relative;box-shadow:0 0 10px #0009}
#slideshow img{position:absolute;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity 1s ease}
.animate{opacity:0;transform:translateY(40px);transition:.8s ease-out}
.animate.show{opacity:1;transform:none}
.side-by-side{display:flex;flex-wrap:wrap;justify-content:center;gap:30px;padding:0 20px;margin:30px auto;max-width:1800px}
.social,.bio{flex:1 1 45%;min-width:300px;max-width:850px;padding:25px;border-radius:20px;box-shadow:0 3px 8px #0003}
.social{text-align:center;background:#b9b95f;color:#000}
.social-btns{display:flex;flex-wrap:wrap;justify-content:center;gap:10px}
.social-btns a{padding:10px 15px;font-size:14px;color:#fff;text-decoration:none;background:#253c2c;border-radius:8px;transition:all .3s}
.social-btns a:hover{background:#536c2f;transform:scale(1.05);box-shadow:0 4px 14px #0008}
.bio{font-size:14px;color:#fff;background:#536c2f}
.bio-intro{margin-bottom:10px;font-weight:600;font-size:15px}
.gallery-title-box{margin:20px auto;padding:15px;max-width:500px;text-align:center;background:#253c2c;color:#fff;border-radius:15px;box-shadow:0 4px 10px #0003}
.gallery-wrapper{padding:20px;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth}
.gallery-wrapper::-webkit-scrollbar{height:10px}
.gallery-wrapper::-webkit-scrollbar-track{background:#ccc;border-radius:5px}
.gallery-wrapper::-webkit-scrollbar-thumb{background:#253c2c;border-radius:5px}
.horizontal-gallery{display:grid;grid-auto-flow:column;grid-template-rows:repeat(4,220px);gap:10px;justify-items:center;align-items:center;min-height:240px}
.horizontal-gallery.single{grid-template-rows:repeat(1,auto);align-items:start;min-height:320px}
.horizontal-gallery img,.horizontal-gallery video{max-height:200px;max-width:200px;width:auto;height:auto;object-fit:contain;border-radius:10px;cursor:pointer;transition:.4s;box-shadow:0 2px 6px #0003}
.horizontal-gallery iframe{max-height:300px;max-width:400px;width:400px;height:300px;border-radius:10px;cursor:pointer;transition:.4s;box-shadow:0 2px 6px #0003;border:none}
.horizontal-gallery img:hover,.horizontal-gallery video:hover,.horizontal-gallery iframe:hover{transform:scale(1.05);box-shadow:0 4px 14px #0008}
.horizontal-gallery a.pdf-link{display:flex;height:200px;width:auto;min-width:120px;padding:15px;justify-content:center;align-items:center;text-align:center;text-decoration:none;color:#fff;background:#253c2c;border-radius:10px;font-size:14px;line-height:1.3;box-shadow:0 2px 6px #0004;transition:all .4s}
.horizontal-gallery a.pdf-link:hover{transform:scale(1.05);background:#536c2f;box-shadow:0 4px 14px #0008}
.section-box{margin:40px auto;padding:25px 20px;max-width:95%;background:#576543;border:2px solid #d5d294;border-radius:20px;box-shadow:0 5px 12px #0002;transition:all .3s}
.section-box:hover{transform:translateY(-5px);box-shadow:0 8px 18px #0003}
.modal{display:none;position:fixed;z-index:1000;padding-top:60px;top:0;left:0;width:100%;height:100%;background:#000c;overflow:auto}
.modal-content{display:block;margin:auto;max-width:90%;max-height:80%;width:auto;height:auto}
.close{position:absolute;top:20px;right:40px;color:#fff;font-size:40px;font-weight:bold;cursor:pointer;z-index:1001}
.prev,.next{cursor:pointer;position:absolute;top:50%;font-size:40px;color:#fff;padding:10px 15px;transform:translateY(-50%);background:#0005;border-radius:5px;transition:all .3s;z-index:1001}
.prev:hover,.next:hover{background:#0009}
.prev{left:30px}.next{right:30px}
.horizontal-gallery p{color:#eee;font-size:16px;padding:20px;text-align:center;grid-column:1/-1}
.storyboard-subfolder{display:contents}
.storyboard-subfolder h3{grid-column:1/-1;text-align:center;color:#fff;font-family:'Playfair Display',serif;margin:15px 0 5px}
::-webkit-scrollbar{width:10px;height:10px}
::-webkit-scrollbar-track{background:#ddd;border-radius:5px}
::-webkit-scrollbar-thumb{background:#253c2c;border-radius:5px}
</style>
</head>
<body>

<header class="header-box animate">
  <div class="name-box">
    <h1>Farzad Mustakim Dihan</h1>
    <p class="from-daag">From Daag</p>
    <p class="roles">Designer, Animator, Illustrator, Painter</p>
  </div>
  <div id="slideshow"></div>
</header>

<section class="side-by-side">
  <aside class="social animate">
    <h2>Connect with me</h2>
    <div class="social-btns">
      <a href="mailto:dihanfarzad@gmail.com?subject=Subject&body=Your%20message%20here">E-mail</a>
      <a href="https://api.whatsapp.com/send?phone=8801851613736">WhatsApp</a>
      <a href="http://fb.com/daagbyfarzaddihan">Facebook Page</a>
      <a href="http://fb.com/farzaddihan">Facebook Profile</a>
      <a href="http://instagram.com/dihhaann">Instagram</a>
      <a href="https://www.linkedin.com/in/dihhaann">LinkedIn</a>
      <a href="https://www.behance.net/farzaddihan">Behance</a>
      <a href="https://farzaddihan.artstation.com/">ArtStation</a>
      <a href="http://farzaddihan.deviantart.com/">DeviantArt</a>
      <a href="https://www.youtube.com/@farzaddihan">YouTube</a>
      <a href="https://x.com/farzaddihan">X</a>
      <a href="https://www.patreon.com/dihhaann">Patreon</a>
      <a href="http://dribbble.com/farzaddihan">Dribbble</a>
      <a href="https://www.pinterest.com/dihhaann/">Pinterest</a>
      <a href="https://www.reddit.com/user/Ill_Brief3700/">Reddit</a>
      <a href="https://farzaddihan.tumblr.com/">Tumblr</a>
      <a href="https://t.me/farzaddihan">Telegram</a>
    </div>
  </aside>

  <article class="bio animate">
    <p class="bio-intro">Hi, I'm Dihan from Bangladesh.</p>
    <p>I am a designer, animator, illustrator, and painter with a deep passion for connecting human emotions through creativity. I hold a Bachelor's degree in Graphic Design under the Faculty of Fine Arts at Jahangirnagar University. Over the past five years, my artistic journey has allowed me to contribute to a variety of projects both nationally and internationally. Through my work, I strive to build meaningful connections between people, the world, and the soul.</p>
  </article>
</section>

<main class="gallery-sections">
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Illustration</h1></section>
    <div class="gallery-wrapper"><div id="illustration" class="horizontal-gallery"><p>Loading images...</p></div></div>
  </div>
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Animation</h1></section>
    <div class="gallery-wrapper"><div id="animation" class="horizontal-gallery single"><p>Loading videos...</p></div></div>
  </div>
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Design</h1></section>
    <div class="gallery-wrapper"><div id="design" class="horizontal-gallery"><p>Loading images...</p></div></div>
  </div>
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Other Works</h1></section>
    <div class="gallery-wrapper"><div id="random" class="horizontal-gallery"><p>Loading images...</p></div></div>
  </div>
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Storyboard</h1></section>
    <div class="gallery-wrapper"><div id="storyboard" class="horizontal-gallery"><p>Loading storyboards...</p></div></div>
  </div>
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Traditional Work</h1></section>
    <div class="gallery-wrapper"><div id="traditional" class="horizontal-gallery"><p>Loading images...</p></div></div>
  </div>
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Wall Paint</h1></section>
    <div class="gallery-wrapper"><div id="wallpaint" class="horizontal-gallery"><p>Loading images...</p></div></div>
  </div>
  <div class="section-box animate">
    <section class="gallery-title-box"><h1>Timelapse</h1></section>
    <div class="gallery-wrapper"><div id="timelapse" class="horizontal-gallery"><p>Loading videos...</p></div></div>
  </div>
</main>

<div id="modal" class="modal">
  <span class="close">&times;</span>
  <span class="prev" id="prev">&#10094;</span>
  <span class="next" id="next">&#10095;</span>
  <img id="modal-img" class="modal-content" style="display:none">
  <video id="modal-video" class="modal-content" style="display:none" controls controlsList="nodownload"></video>
</div>

<script>
const config={
  apiKey:"AIzaSyDZYWh4w2-w4KOxRfE21pNZDN2TuCaHiWM",
  folders:{
    illustration:"1D51mD5492H05RYBnvllBblCbHSU_kIa3",
    animation:"1jdMVLFM1fEJin_DGsxU5h5QBT7TffOQV",
    design:"1F9qYQ_aFXLjImo61XxMW1uXwZWmSWQ3u",
    random:"16O1UHav8jttMlLGwXOft5l-iUt4w0uTt",
    storyboard:"12QtYLnwsjHcE1BOiGWCBTA4qDlA7c4zQ",
    traditional:"12TuHnmo3-P_u7pgsdJwuqw1eEPGUypaP",
    wallpaint:"12R59OQfIDhmGAfRCp5hhICW28zJzU15n",
    timelapse:"12RaSwvp7TjWUhhbkBz6jskHwI1qKxFgZ"
  },
  slideshow:"1Nuzl3T0grALDvC6WX8ujf6p8kgcu9Miu",
  singleRow:["storyboard","animation","timelapse"]
};

let state={
  media:[],
  current:0,
  slideIndex:0,
  slideInt:null
};

const els={
  modal:document.getElementById("modal"),
  img:document.getElementById("modal-img"),
  video:document.getElementById("modal-video"),
  prev:document.getElementById("prev"),
  next:document.getElementById("next"),
  close:document.querySelector(".close"),
  slideshow:document.getElementById("slideshow"),
  galleries:Object.fromEntries(Object.keys(config.folders).map(k=>[k,document.getElementById(k)]))
};

const obs={
  lazy:new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(e.isIntersecting){
        const t=e.target;
        if(t.dataset.src){
          if(["IMG","VIDEO","IFRAME"].includes(t.tagName)) t.src=t.dataset.src;
          t.removeAttribute("data-src");
        }
        obs.lazy.unobserve(t);
      }
    });
  },{rootMargin:"150px"}),
  scroll:new IntersectionObserver(entries=>{
    entries.forEach(e=>e.target.classList.toggle("show",e.isIntersecting));
  },{threshold:0.1})
};

function showModal(i){
  if(i<0||i>=state.media.length||!state.media[i]?.type) return;
  state.current=i;
  if(els.video.style.display==="block"&&!els.video.paused) els.video.pause();
  els.img.style.display=els.video.style.display="none";
  els.img.src=els.video.src="";
  const m=state.media[i];
  if(m.type==="image"){
    els.img.src=m.src.replace(/=s0$/,'=w800');
    els.img.alt=m.alt||"Gallery Image";
    els.img.style.display="block";
  }else if(m.type==="video"){
    els.video.src=m.src;
    els.video.style.display="block";
  }
  els.modal.style.display="block";
}

function createEl(f,k){
  if(!f.id||!f.name||!f.mimeType) return null;
  const d=`https://drive.google.com/uc?id=${f.id}`;
  const p=`https://drive.google.com/file/d/${f.id}/preview`;
  const h=`https://lh3.googleusercontent.com/d/${f.id}=w800`;
  const t=`https://lh3.googleusercontent.com/d/${f.id}=w400`;
  let el,m=null;
  try{
    if(f.mimeType.startsWith("image/")){
      el=document.createElement("img");
      el.dataset.src=t;
      el.alt=f.name;
      el.loading="lazy";
      const i=state.media.length;
      m={src:h,type:"image",alt:f.name};
      state.media.push(m);
      el.addEventListener("click",e=>{e.stopPropagation();showModal(i);});
    }else if(f.mimeType.startsWith("video/")){
      if(["animation","timelapse"].includes(k)){
        el=document.createElement("iframe");
        el.dataset.src=p;
        el.width="400";
        el.height="300";
        el.allow="fullscreen";
        el.sandbox="allow-same-origin allow-scripts allow-popups allow-presentation";
      }else{
        el=document.createElement("video");
        el.dataset.src=d;
        el.width=200;
        el.height=200;
        const i=state.media.length;
        m={src:d,type:"video",alt:f.name};
        state.media.push(m);
        el.addEventListener("click",e=>{e.stopPropagation();showModal(i);});
      }
    }else if(f.mimeType==="application/pdf"){
      if(k==="storyboard"){
        el=document.createElement("iframe");
        el.dataset.src=p;
        el.width="400";
        el.height="300";
        el.sandbox="allow-same-origin allow-scripts allow-popups";
      }else{
        el=document.createElement("a");
        el.href=d;
        el.target="_blank";
        el.rel="noopener noreferrer";
        el.textContent=`📄 ${f.name}`;
        el.classList.add("pdf-link");
      }
    }
    if(el){
      el.classList.add("lazy","animate");
      obs.lazy.observe(el);
      obs.scroll.observe(el);
    }
  }catch(err){console.error("Error creating element:",err)}
  return el;
}

async function loadGallery(id,el,k){
  if(!el) return;
  el.innerHTML='<p>Loading...</p>';
  try{
    const res=await fetch(`https://www.googleapis.com/drive/v3/files?q='${id}'+in+parents+and+trashed=false&key=${config.apiKey}&fields=files(id,name,mimeType)&orderBy=createdTime+desc&pageSize=1000`);
    if(!res.ok) throw new Error(`API error: ${res.status}`);
    const data=await res.json();
    if(!data.files){el.innerHTML="<p>No media found.</p>";return;}
    el.innerHTML="";
    data.files.forEach(f=>{const e=createEl(f,k);if(e)el.appendChild(e);});
    if(data.files.length===0) el.innerHTML="<p>No media in folder.</p>";
  }catch(err){
    el.innerHTML="<p>Failed to load media.</p>";
    console.error("Error:",err);
  }
}

async function loadStoryboard(id,el){
  if(!el) return;
  el.innerHTML='<p>Loading folders...</p>';
  try{
    const res=await fetch(`https://www.googleapis.com/drive/v3/files?q='${id}'+in+parents+and+mimeType='application/vnd.google-apps.folder'+and+trashed=false&key=${config.apiKey}&fields=files(id,name)&orderBy=createdTime+desc&pageSize=1000`);
    if(!res.ok) throw new Error(`API error: ${res.status}`);
    const data=await res.json();
    if(!data.files||data.files.length===0){el.innerHTML="<p>No subfolders.</p>";return;}
    el.innerHTML="";
    let hasContent=false;
    for(const sub of data.files){
      const title=document.createElement("h3");
      title.textContent=sub.name;
      el.appendChild(title);
      const fr=await fetch(`https://www.googleapis.com/drive/v3/files?q='${sub.id}'+in+parents+and+trashed=false&key=${config.apiKey}&fields=files(id,name,mimeType)&orderBy=createdTime+desc&pageSize=1000`);
      if(!fr.ok){
        const errMsg=document.createElement('p');
        errMsg.textContent=`Error loading ${sub.name}.`;
        errMsg.style.color='red';
        errMsg.style.textAlign='center';
        el.appendChild(errMsg);
        continue;
      }
      const files=await fr.json();
      if(files.files?.length>0){
        files.files.forEach(f=>{const e=createEl(f,"storyboard");if(e)el.appendChild(e);});
        hasContent=true;
      }
    }
    if(!hasContent&&el.innerHTML==="") el.innerHTML="<p>No content found.</p>";
  }catch(err){
    el.innerHTML="<p>Failed to load.</p>";
    console.error("Error:",err);
  }
}

async function loadSlideshow(){
  if(!els.slideshow) return;
  if(state.slideInt) clearInterval(state.slideInt);
  els.slideshow.innerHTML='';
  state.slideIndex=0;
  try{
    const res=await fetch(`https://www.googleapis.com/drive/v3/files?q='${config.slideshow}'+in+parents+and+mimeType contains 'image/'+and+trashed=false&key=${config.apiKey}&fields=files(id)&orderBy=createdTime+desc&pageSize=50`);
    if(!res.ok) throw new Error(`API error: ${res.status}`);
    const data=await res.json();
    if(!data.files||data.files.length===0){els.slideshow.innerHTML='<p style="color:#ccc;text-align:center;padding:10px;">No images</p>';return;}
    data.files.forEach((f,i)=>{
      const img=document.createElement('img');
      img.dataset.src=`https://lh3.googleusercontent.com/d/${f.id}=w400`;
      img.style.opacity=0;
      img.loading="lazy";
      img.alt=`Slide ${i+1}`;
      els.slideshow.appendChild(img);
    });
    const slides=els.slideshow.querySelectorAll("img");
    if(slides.length>0){
      slides[0].src=slides[0].dataset.src;
      slides[0].onload=()=>slides[0].style.opacity=1;
      if(slides.length>1){
        state.slideInt=setInterval(()=>{
          slides[state.slideIndex].style.opacity=0;
          state.slideIndex=(state.slideIndex+1)%slides.length;
          const nextSlide=slides[state.slideIndex];
          if(!nextSlide.src) nextSlide.src=nextSlide.dataset.src;
          nextSlide.style.opacity=1;
        },5000);
      }
    }else els.slideshow.innerHTML='<p style="color:#ccc;text-align:center;padding:10px;">Error</p>';
  }catch(err){
    console.error("Error:",err);
    els.slideshow.innerHTML='<p style="color:red;text-align:center;padding:10px;">Error</p>';
  }
}

function setupModal(){
  if(!els.modal||!els.img||!els.video||!els.prev||!els.next||!els.close) return;
  const nav=dir=>{
    let attempts=0,newIndex=state.current;
    do{
      newIndex=(newIndex+dir+state.media.length)%state.media.length;
      attempts++;
    }while(!state.media[newIndex]?.type&&attempts<state.media.length);
    if(state.media[newIndex]?.type) showModal(newIndex);
  };
  els.prev.onclick=e=>{e.stopPropagation();nav(-1);};
  els.next.onclick=e=>{e.stopPropagation();nav(1);};
  const close=()=>{
    els.modal.style.display="none";
    if(!els.video.paused) els.video.pause();
    els.img.src=els.video.src="";
    els.img.alt="";
  };
  els.close.onclick=e=>{e.stopPropagation();close();};
  els.modal.onclick=e=>{if(e.target===els.modal)close();};
  document.addEventListener('keydown',e=>{
    if(els.modal.style.display==='block'){
      if(e.key==='ArrowLeft') nav(-1);
      else if(e.key==='ArrowRight') nav(1);
      else if(e.key==='Escape') close();
    }
  });
}

function setupGalleries(){
  Object.entries(config.folders).forEach(([k,id])=>{
    const el=els.galleries[k];
    if(!el) return;
    el.classList.toggle("single",config.singleRow.includes(k));
    k==="storyboard"?loadStoryboard(id,el):loadGallery(id,el,k);
  });
}

function setupScroll(){
  document.querySelectorAll(".section-box, .header-box, .social, .bio").forEach(el=>{
    if(!el.classList.contains('animate')) el.classList.add('animate');
    obs.scroll.observe(el);
  });
}

document.addEventListener("DOMContentLoaded",()=>{
  loadSlideshow();
  setupGalleries();
  setupScroll();
  setupModal();
  document.addEventListener('contextmenu',e=>{if(['IMG','VIDEO'].includes(e.target.tagName))e.preventDefault();});
  document.addEventListener('dragstart',e=>{if(['IMG','VIDEO'].includes(e.target.tagName))e.preventDefault();});
});
</script>
</body>
</html>
